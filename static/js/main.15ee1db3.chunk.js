(this["webpackJsonpumapp-test-task"]=this["webpackJsonpumapp-test-task"]||[]).push([[0],{129:function(e,t,a){e.exports={container:"reviews-page_container__ZsBIV",title:"reviews-page_title__2p3Aa"}},203:function(e,t,a){e.exports={btn:"button_btn__1BdGR",btnText:"button_btnText__2S4fQ",btnDisabled:"button_btnDisabled__2lT-4",btnTextDisabled:"button_btnTextDisabled__1UztR"}},204:function(e,t,a){e.exports={list:"review-list_list__18sTs"}},213:function(e,t,a){e.exports=a(459)},458:function(e,t,a){},459:function(e,t,a){"use strict";a.r(t);a(214),a(153),a(263);var n=a(1),r=a.n(n),i=a(202),l=a.n(i),s=a(47),c=a(60),d=a(48),o=a(59),u=a.n(o),m=a(203),v=a.n(m),_=function(e){var t=e.text,a=e.isDisabled,n=e.isInsideReviewForm,i=u.a.bind(v.a);return r.a.createElement("button",{type:n?"submit":"button",className:i({btn:!0,btnDisabled:a&&n}),disabled:a},r.a.createElement("span",{className:i({btnText:!0,btnTextDisabled:a&&n})},t))};var p=a(97),f=a(74),b=a.n(f),h=function(e){var t=e.selectedStarsQuantity,a=e.isInsideReviewForm,n=e.changeCurrentReviewSelectedStarsQuantity,i=u.a.bind(b.a);return r.a.createElement("ul",{className:i({list:!0,listInsideForm:a})},Object(p.a)(new Array(5)).map((function(e,i){return r.a.createElement("li",{className:b.a.star,key:i,onClick:a?function(){return n(i+1)}:null},r.a.createElement("svg",{width:a?"36":"20",height:a?"36":"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{className:i+1<=t?b.a.active:b.a.nonActive,d:"M9.07668 1.21993C9.41827 0.398635 10.5817 0.398636 10.9233 1.21993L12.9395 6.06735C13.0835 6.41358 13.4091 6.65015 13.7829 6.68012L19.0161 7.09966C19.9027 7.17074 20.2623 8.27725 19.5867 8.85592L15.5996 12.2713C15.3148 12.5153 15.1904 12.8981 15.2774 13.2628L16.4956 18.3695C16.702 19.2348 15.7607 19.9186 15.0016 19.455L10.5213 16.7184C10.2012 16.5229 9.79876 16.5229 9.47875 16.7184L4.9984 19.455C4.2393 19.9186 3.29805 19.2348 3.50444 18.3695L4.72257 13.2628C4.80958 12.8981 4.68521 12.5153 4.40042 12.2713L0.413277 8.85592C-0.26226 8.27725 0.0972674 7.17074 0.983922 7.09966L6.21712 6.68012C6.59091 6.65015 6.91652 6.41358 7.06052 6.06735L9.07668 1.21993Z"})))})))},w=a(75),g=a.n(w),E=function(e){var t=e.review,a=t.author,i=t.date,l=t.message,s=t.selectedStarsQuantity,c=Object(n.useMemo)((function(){return function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[n,a,r].join(".")}(i)}),[i]);return r.a.createElement("li",null,r.a.createElement("div",{className:g.a.container},r.a.createElement("p",{className:g.a.header},r.a.createElement("b",null,a),r.a.createElement("span",{className:g.a.date},c)),r.a.createElement(h,{selectedStarsQuantity:s}),r.a.createElement("p",{className:g.a.message},l)))},x=a(204),N=a.n(x),O=function(e){var t=e.reviews;return t.length?r.a.createElement("ul",{className:N.a.list},t.map((function(e,t){return r.a.createElement(E,{review:e,key:t})}))):r.a.createElement("p",null,"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0432\u044b\u0439 \u043e\u0442\u0437\u044b\u0432! ")},j=a(129),D=a.n(j),y=function(e){var t=e.reviews;return r.a.createElement("div",{className:D.a.container},r.a.createElement("h2",{className:D.a.title},"\u041e\u0442\u0437\u044b\u0432\u044b \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430"),r.a.createElement(s.b,{to:"/umapp/add-review-page"},r.a.createElement(_,{text:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u0437\u044b\u0432"})),r.a.createElement(O,{reviews:t}))},S=a(98),C=a.n(S),F=a(96),L=a(207),R=a(99),H=a.n(R),I=Object(d.f)((function(e){var t=e.reviews,a=e.addNewReview,i=e.history,l=Object(n.useState)({author:"",message:""}),s=Object(c.a)(l,2),d=s[0],o=s[1],m=Object(n.useState)({isAuthorFieldDisabled:!0,isMessageFieldDisabled:!0}),v=Object(c.a)(m,2),f=v[0],b=v[1],w=Object(n.useState)(null),g=Object(c.a)(w,2),E=g[0],x=g[1],N=Object(n.useRef)(!0),O=d.author,j=d.message,D=f.isAuthorFieldDisabled,y=f.isMessageFieldDisabled,S=Object.values(f).includes(!0);Object(n.useEffect)((function(){N.current?N.current=!1:b(R())}),[O,j]);var C=function(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(L.a)({},e,Object(F.a)({},a,n))}))},R=function(){var e={};return""===O.trim()||O.trim().length>=1&&O.trim().length>=20?e.isAuthorFieldDisabled=!0:e.isAuthorFieldDisabled=!1,""===j.trim()||j.trim().length<=20||j.trim().length>=500?e.isMessageFieldDisabled=!0:e.isMessageFieldDisabled=!1,e},I=u.a.bind(H.a);return r.a.createElement("form",{name:"form1",action:"",method:"post",onSubmit:function(e){if(e.preventDefault(),!S){var n=(new Date).getTime(),r=[{author:O.trim(),message:j.trim(),selectedStarsQuantity:E,date:n}].concat(Object(p.a)(t));localStorage.setItem("reviews",JSON.stringify(r)),a(r),i.push("/umapp")}}},r.a.createElement(h,{selectedStarsQuantity:E,isInsideReviewForm:!0,changeCurrentReviewSelectedStarsQuantity:x}),r.a.createElement("p",{className:H.a.fieldWrapper},r.a.createElement("input",{name:"author",type:"text",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u043c \u043d\u0438\u043a\u043d\u0435\u0439\u043c",value:O,className:I({field:!0,valid:!D,invalid:D}),onChange:function(e){return C(e)}}),r.a.createElement("span",{className:I({fieldHint:!0,hintHidden:O.length})},"\u041e\u0442 1 \u0434\u043e 20 \u0441\u0438\u043c\u043e\u043b\u043e\u0432")),r.a.createElement("div",{className:H.a.fieldWrapper},r.a.createElement("textarea",{name:"message",value:j,placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c?",className:I({field:!0,reviewTextField:!0,valid:!y,invalid:y}),onChange:function(e){return C(e)}}),r.a.createElement("span",{className:I({fieldHint:!0,hintHidden:j.length})},"\u041e\u0442 20 \u0434\u043e 500 \u0441\u0438\u043c\u043e\u043b\u043e\u0432")),r.a.createElement(_,{text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",isInsideReviewForm:!0,isDisabled:S}))})),T=function(e){return r.a.createElement("div",{className:C.a.container},r.a.createElement("div",{className:C.a.header},r.a.createElement(s.b,{to:"/umapp"},r.a.createElement("svg",{width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.41421 10L10.7071 16.2929L9.29289 17.7071L0.585785 9L9.29289 0.292892L10.7071 1.70711L4.41421 8H19V10H4.41421Z",fill:"black"}))),r.a.createElement("h2",{className:C.a.title},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c")),r.a.createElement(I,e))},k=(a(458),function(){var e=Object(n.useState)((function(){return localStorage.getItem("reviews")?JSON.parse(localStorage.getItem("reviews")):[]})),t=Object(c.a)(e,2),a=t[0],i=t[1];return r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/umapp",exact:!0,render:function(){return r.a.createElement(y,{reviews:a})}}),r.a.createElement(d.a,{path:"/umapp/add-review-page",render:function(){return r.a.createElement(T,{reviews:a,addNewReview:i})}}))}),A=a(208),Q=a(209),B=a(211),M=a(210),W=a(212),J=function(){return r.a.createElement("div",null,"Error!")},Z=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(B.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(W.a)(t,e),Object(Q.a)(t,[{key:"componenDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(J,null):this.props.children}}]),t}(n.Component);l.a.render(r.a.createElement(Z,null,r.a.createElement(s.a,null,r.a.createElement(k,null))),document.getElementById("root"))},74:function(e,t,a){e.exports={list:"star-rating_list__2mIKP",listInsideForm:"star-rating_listInsideForm__13Rno",star:"star-rating_star__iaGwD",active:"star-rating_active__2H2BJ",nonActive:"star-rating_nonActive__29dgK"}},75:function(e,t,a){e.exports={container:"review_container__1amEE",header:"review_header__3BTRC",date:"review_date__3BQGq",message:"review_message__gKZOo"}},98:function(e,t,a){e.exports={container:"add-review-page_container__1yzqf",header:"add-review-page_header__99PE_",title:"add-review-page_title__15HYC"}},99:function(e,t,a){e.exports={fieldWrapper:"add-review-form_fieldWrapper__1WaJj",field:"add-review-form_field__2Q5LB",reviewTextField:"add-review-form_reviewTextField__hhRYw",fieldHint:"add-review-form_fieldHint__3WwZ8",hintHidden:"add-review-form_hintHidden__2ybqR",invalid:"add-review-form_invalid__21b0W",valid:"add-review-form_valid__3MHDi"}}},[[213,1,2]]]);
//# sourceMappingURL=main.15ee1db3.chunk.js.map